# Користування QR-O-Puncher

## Демонстрація

[![Користування QR-O-Puncher](https://img.youtube.com/vi/rHFYLPIyBp0/0.jpg)](https://www.youtube.com/watch?v=rHFYLPIyBp0 "Користування QR-O-Puncher")

## Віртуальний полігон

 * Запустити програму відмітки на смартфоні: адреса [https://sakhnik.com/qr](https://sakhnik.com/qr)
 * На іншому телефоні або комп’ютері відкрити тестовий полігон: [https://sakhnik.com/qr/stage.html](https://sakhnik.com/qr/stage.html)
 * Задати бажані параметри, натиснути «Enter»
 * Сканувати відображений код, перейти до наступної сторінки, натиснувши на відповідну кнопку на екрані (або клавішу «пропуск»).

## Інструкція

Для фіксації проходження КП (контрольних пунктів) на дистанції, учаснику
необхідно мати смартфон бажано з доступом до мобільного інтернету. Далі
потрібно завантажити в свій телефон програму. Для тих учасників змагань у
котрих відсутній мобільний інтернет секретаріат може надати інтернет, щоб
завантажити необхідну програму. Під час проходження дистанції наявність
інтернету не потрібна. Необхідність інтернету може виникнути лише в разі
потреби перезавантаження програми через помилку користувача або
програмно-апаратний збій. На фініші можна також скористатись суддівським
інтернетом для фіксації проходження дистанції.

Програма запускається у будь-якому сучасному мобільному веб-браузері як то
Google Chrome ([Android Play Market](https://play.google.com/store/apps/details?id=com.android.chrome),
[Apple App Store](https://apps.apple.com/gb/app/google-chrome/id535886823)),
Mozilla Firefox ([Android Play Market](https://play.google.com/store/apps/details?id=org.mozilla.firefox),
[Apple App Store](https://apps.apple.com/us/app/firefox-private-safe-browser/id989804926)).
Учасники з мобільним інтернетом відкривають
сторінку сторінку [https://sakhnik.com/qr](https://sakhnik.com/qr), запам'ятовують її або додають у
закладки. Учасники без мобільного інтернету мають встановити в себе на телефон
будь-яку програму HTTP Server, наприклад,
[Simple HTTP Server](https://play.google.com/store/apps/details?id=com.phlox.simpleserver),
налаштувати її перед стартом по окремій інструкції і запустити програму
електронної відмітки з адреси [http://localhost:8080/](http://localhost:8080/).

При першому запуску слід надати програмі дозвіл на доступ до камери і служб
місцезнаходження. При проходженні реєстрації потрібно відсканувати код у
секретаря для встановлення стартового номеру учасника. Для реєстрації відмітки
потрібно розблокувати смартфон і відсканувати графічний код на передстарті,
старті, контрольних пунктах і фініші. Звуковий сигнал підтверджує успішну
відмітку. Так само треба відсканувати код після фінішу, щоб зареєструвати
інформацію про відмітки у суддівську систему та отримати роздруківку
проходження дистанції. Якщо стався який-небудь збій програми чи пристрою, в
будь-який момент можна перезавантажити програму з адреси
[https://sakhnik.com/qr](https://sakhnik.com/qr)
або [http://localhost:8080](http://localhost:8080) відповідно.
При цьому вся попередня інформація
зберігається. Якщо можливості перезавантажити учаснику немає, необхідно робити
фото на кожному наступному КП для пред'явлення секретаріату.

Джерело: [sakhnik/qr-o-punch](https://github.com/sakhnik/qr-o-punch)

## Економія заряду батареї

Програма сканування кодів QR запускає камеру, тому споживає значний заряд батареї.
Радимо на перегонах між контрольними пунктами вимикати екран смартфону і його блокувати.
При цьому сканер також буде відключено до наступного розблокування смартфону.

## Запуск без мобільного інтернету

На смартфоні Android:

* Встановити [Simple HTTP Server](https://play.google.com/store/apps/details?id=com.phlox.simpleserver)
* Завантажити архів програми з адреси [https://sakhnik.com/qr.zip](https://sakhnik.com/qr.zip)
* Розпакувати (витягнути) файли з архіву в /sdcard/Download/qr/
* Запустити додаток Simple HTTP Server
* Задати Root folder -> External folder -> /sdcard/Download/qr
* Натиснути START
* Запустити навігатор тенет Google Chrome або Mozilla Firefox
* Перейти до адреси [http://localhost:8080/](http://localhost:8080/)

Програма готова до сканування кодів електронної відмітки.

## Підтримувана функціональність

|  Функція        |  Google Chrome |  Mozilla Firefox |
|-----------------|----------------|------------------|
| Сканування      |  `✅`          |  `✅`            |
| Геолокація      |  `✅`          |  `✅`            |
| Звуковий сигнал |  `✅`          |  `✅`            |
| Вібрація        |  `✅`          |  `❌`            |
| Підсвітка       |  `✅`          |  `❌`            |
